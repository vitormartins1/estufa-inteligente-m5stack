{"components":[{"id":"____screen","createTime":1668355995817,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","type":"screen"}],"type":"atom","versions":"Beta","units":[{"id":"1u8$oQlhSyl-+GLt","createTime":1668358745245,"hidden":false,"type":"env3","name":"env3_1","port":"A","default":["A","PAHUB","Custom"],"pb_port":[0,1,2,3,4,5],"new_pb_port":"0","user_port":["21","22"],"icon":"env3.png"}],"hats":[],"blockly":"<variables><variable id=\"W?w]Bh{^[Iv$O]F:URK(\">readTime</variable></variables><block type=\"procedures_defnoreturn\" id=\"8qx6!*Wq[iknI2o0NmZk\" x=\"390\" y=\"-650\"><field name=\"NAME\">wifiConnect</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"controls_ifelse\" id=\".cZYbII1c0y2*?ba;N9~\"><value name=\"IF0\"><block type=\"wifi_isconnect\" id=\"7NVU~21?c.u_ZVj$]?1Z\"></block></value><statement name=\"DO0\"><block type=\"rgb_set_all\" id=\"scHr9iIati#/}7K#R$uz\"><field name=\"COLOR\">#33cc00</field></block></statement><statement name=\"ELSE\"><block type=\"rgb_set_all\" id=\"JW,t4|?0%MJ`ch]*Y?/@\"><field name=\"COLOR\">#ff0000</field></block></statement></block></statement></block><block type=\"procedures_defnoreturn\" id=\"wA9#e!/0hvg-o).7T#Jl\" x=\"730\" y=\"-570\"><field name=\"NAME\">awsConnect</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"aws_init\" id=\"v_801;yZ|Ei!~f%5dgp|\"><mutation key=\"private.pem.key\" cert=\"certificate.pem.crt\"></mutation><value name=\"things_name\"><shadow type=\"text\" id=\"z,+r}`{Uk^$YkZ[S8m{Y\"><field name=\"TEXT\">m5env3</field></shadow></value><value name=\"host\"><shadow type=\"text\" id=\"]kuYp`-LjC6/IIpK1S8[\"><field name=\"TEXT\">a1f9fmh8sd2vj8-ats.iot.us-east-1.amazonaws.com</field></shadow></value><value name=\"port\"><shadow type=\"math_number\" id=\"xipJ^4WTipTUo#W,rCu[\"><field name=\"NUM\">8883</field></shadow></value><value name=\"keepalive\"><shadow type=\"math_number\" id=\"YdkHh91*@!lVv:Sbz[9@\"><field name=\"NUM\">60</field></shadow></value><next><block type=\"aws_start\" id=\"A~](AJ8-sZA)D+OC_nuv\"><next><block type=\"rgb_set_all\" id=\"ZBn`C|C6lvi5l7%+[T`7\"><field name=\"COLOR\">#ff9900</field></block></next></block></next></block></statement></block><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"150\" y=\"-470\"><next><block type=\"wifi_connect\" id=\"z9H~kmGodJt/5t($hz/[\"><next><block type=\"variables_set\" id=\"m4gnm9zYeoQBD@gs@Ino\"><field name=\"VAR\" id=\"W?w]Bh{^[Iv$O]F:URK(\">readTime</field><value name=\"VALUE\"><block type=\"math_number\" id=\"8PC-q}p~5M-6!HVOh2SN\"><field name=\"NUM\">10</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"y2=P[]utvpk?YLVXIxTc\"><mutation name=\"wifiConnect\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"V)eyRS(u!E#GPk0+Jv9%\"><mutation name=\"awsConnect\"></mutation><next><block type=\"basic_on_loop\" id=\"K2g@NTkA^8uC`Vz+dsN~\"><statement name=\"LOOP\"><block type=\"timer_delay\" id=\"a!I^]Arn/TJUeeh2tf+g\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"(iuJye!.P3J@@nG7wr^f\"><field name=\"NUM\">10</field></shadow><block type=\"variables_get\" id=\"4v~:G`6$OV@7$(nWh?wL\"><field name=\"VAR\" id=\"W?w]Bh{^[Iv$O]F:URK(\">readTime</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"Us4=Ok[$!i_Ex(7Y2zHS\"><mutation name=\"publishSensorRead\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"%26BbBVTJ#tAGffVe2mL\" x=\"390\" y=\"-249\"><field name=\"NAME\">publishSensorRead</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"aws_publish\" id=\"P:ZbM(Xfw%(b?0?GO2KE\"><value name=\"FROM\"><shadow type=\"text\" id=\"h7RU!b`eFIb2y,u+%zH=\"><field name=\"TEXT\">dt/growtron/m5env3</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"JG4XH1i)hQGG8?!j0e?S\"><field name=\"TEXT\">Message</field></shadow><block type=\"dumps_json\" id=\"uRg:yF?HTVBbO+p.bZo|\"><value name=\"JSON_VAR\"><block type=\"map_on_loop\" id=\"740q#J-q`dZA9fpc_a$H\"><statement name=\"LOOP\"><block type=\"create_map_key\" id=\"{eQmgap!],3PKdvu7O;n\"><value name=\"key\"><block type=\"text\" id=\"0[4ql4HB97v4}Ct7.l(a\"><field name=\"TEXT\">temp</field></block></value><value name=\"value\"><block type=\"text_math_split\" id=\"r)g]POszHscZ`4x4O@D[\"><value name=\"arg0\"><block type=\"dht12_get_temperature\" id=\"+r?v:ES,Ywr%J,5v1hF?\"><field name=\"VARNAME\">env3_1</field></block></value><value name=\"arg1\"><shadow type=\"math_number\" id=\"|W]HSefKj@uk(o,P8dqi\"><field name=\"NUM\">2</field></shadow></value></block></value><next><block type=\"create_map_key\" id=\"n60a5+8|bYU_V7FSd@{B\"><value name=\"key\"><block type=\"text\" id=\"{T-)(}mV|+rxqiybJT+?\"><field name=\"TEXT\">humi</field></block></value><value name=\"value\"><block type=\"text_math_split\" id=\"6xVR,t2WzU,]y^A%^C,i\"><value name=\"arg0\"><block type=\"dht12_get_humidity\" id=\"fxm_ezm}Z,$bjB67.nD$\"><field name=\"VARNAME\">env3_1</field></block></value><value name=\"arg1\"><shadow type=\"math_number\" id=\"J;vWp=esUv0!vLKGIV6T\"><field name=\"NUM\">1</field></shadow></value></block></value><next><block type=\"create_map_key\" id=\"_G(d)gCaB:S*qDps;^9D\"><value name=\"key\"><block type=\"text\" id=\"Pg)x(`Orkf]_tCpFyAS=\"><field name=\"TEXT\">pres</field></block></value><value name=\"value\"><block type=\"text_math_split\" id=\"xRWT+*8m;{*4|$Fa[t%b\"><value name=\"arg0\"><block type=\"dht12_pressure\" id=\"nozOii`(gL%*t.wV.6:o\"><field name=\"VARNAME\">env3_1</field></block></value><value name=\"arg1\"><shadow type=\"math_number\" id=\"$iV$(u]MzquLS.Dm}nRL\"><field name=\"NUM\">0</field></shadow></value></block></value></block></next></block></next></block></statement></block></value></block></value></block></statement></block><block type=\"procedures_callnoreturn\" id=\"7x.dRF:o0^n]aAAT@iA;\" disabled=\"true\" x=\"150\" y=\"-170\"><mutation name=\"wifiHealthCeck\"></mutation></block><block type=\"aws_sub\" id=\"tQ*ns;bXsk`zbp;PgR@G\" x=\"90\" y=\"71\"><value name=\"FROM\"><shadow type=\"text\" id=\"|(baPitKRp){#D!N.M5-\"><field name=\"TEXT\">cmd/growtron/m5env3/read</field></shadow></value><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\":)AV*Ct32D=M%_o?M=#9\"><mutation name=\"publishSensorRead\"></mutation></block></statement></block><block type=\"aws_sub\" id=\"H().em@9A{lV5w~NnB9g\" x=\"690\" y=\"50\"><value name=\"FROM\"><shadow type=\"text\" id=\"FLx]+y!2~gOZ=MQO2k6?\"><field name=\"TEXT\">cmd/growtron/m5env3/readtime</field></shadow></value><statement name=\"FUNC\"><block type=\"variables_set\" id=\"_vC*e-`qWy?T;QM:UWT3\"><field name=\"VAR\" id=\"W?w]Bh{^[Iv$O]F:URK(\">readTime</field><value name=\"VALUE\"><block type=\"get_map_key\" id=\"YI{(5}w@NPVGqK.YY:x=\"><value name=\"key\"><block type=\"text\" id=\"3~!(H6+G4t/T+cEpo}ce\"><field name=\"TEXT\">readTime</field></block></value><value name=\"map\"><block type=\"aws_get_topic_data\" id=\"t@I!DH/qzG)Cv5D@x/f$\"></block></value></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"tHSc/69`6p[h+iry61,d\" x=\"1050\" y=\"151\"><field name=\"NAME\">wifiHealthCeck</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"controls_if\" id=\"e^;[RBc)ST[:$nKlBimo\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"wifi_isconnect\" id=\"c%PaR/7!Z{dwyYhtO40g\"></block></value><statement name=\"DO0\"><block type=\"rgb_set_all\" id=\"@C]oDh*soVWgs[o0YeLr\"><field name=\"COLOR\">#33cc00</field><next><block type=\"timer_delay\" id=\"_r7B,6*it.8ZG,@IM?d#\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"H^us;3ea-T{+SmqplsPZ\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"rgb_set_all\" id=\"eTVJV2c|H%DYyXx=,J=f\"><field name=\"COLOR\">#ff9900</field></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"rgb_set_all\" id=\"y4v:q/dK.;L]Gl`+*0M`\"><field name=\"COLOR\">#ff0000</field><next><block type=\"timer_delay\" id=\"8N]D^i9GrNUst4seALB7\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"Z9Zo$rX)jTkBHWYoEZTi\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"+!F4#{KoFB6U*c5FDZ4$\"><mutation name=\"wifiConnect\"></mutation><next><block type=\"procedures_callnoreturn\" id=\"x5;vnpHEJda?.}sZnPf1\"><mutation name=\"awsConnect\"></mutation></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"button_callback\" id=\"$|%6-WRPxOzSpOhK6Xto\" x=\"590\" y=\"231\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"procedures_callnoreturn\" id=\"[z;0Jso4_VU$D33]0u5_\"><mutation name=\"publishSensorRead\"></mutation></block></statement></block><block type=\"procedures_callnoreturn\" id=\"=*nt=a==2BcYrUN]e#-L\" disabled=\"true\" x=\"350\" y=\"310\"><mutation name=\"wifiHealthCeck\"></mutation></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1668358745245,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"2mcUCLfEmNIhZrrOGv2Ls9cKceDUJ5aQ","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["rgb"],"cbIdList_":[],"eventCBIdList_":[]}